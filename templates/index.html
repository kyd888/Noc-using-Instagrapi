<!DOCTYPE html>
<html>
<head>
    <title>Instagram Monitor (Version {{ version }})</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</head>
<body>
    <h1>Instagram Monitor (Version {{ version }})</h1>
    <form id="login-form" method="POST">
        <label for="insta_username">Instagram Username:</label><br>
        <input type="text" id="insta_username" name="insta_username"><br><br>
        <label for="insta_password">Instagram Password:</label><br>
        <input type="password" id="insta_password" name="insta_password"><br><br>
        <button type="submit">Login</button>
    </form>
    
    <form id="monitor-form" style="display:none;">
        <label for="target_usernames">Target Usernames (comma-separated):</label><br>
        <input type="text" id="target_usernames" name="target_usernames"><br><br>
        <button type="submit">Start Monitoring</button>
        <button type="button" id="stop-monitoring">Stop Monitoring</button>
    </form>

    <h2>Status</h2>
    <div id="status">Not monitoring.</div>

    <h2>CSV Data</h2>
    <div id="csv_data">
        {% for row in csv_data %}
            <p>Account: {{ row.username }}<br>
            <a href="{{ row.post_url }}" target="_blank">{{ row.post_url }}</a> ({{ row.post_id }})</p>
        {% endfor %}
    </div>

    <div id="accounts_data"></div>
</body>
</html>
