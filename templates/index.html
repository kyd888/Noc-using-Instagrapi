<!DOCTYPE html>
<html>
<head>
    <title>Instagram Monitor</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Instagram Monitor</h1>
    <form id="monitor-form">
        <label for="insta_username">Instagram Username:</label><br>
        <input type="text" id="insta_username" name="insta_username"><br><br>
        <label for="insta_password">Instagram Password:</label><br>
        <input type="password" id="insta_password" name="insta_password"><br><br>
        <label for="target_username">Target Username:</label><br>
        <input type="text" id="target_username" name="target_username"><br><br>
        <button type="submit">Start Monitoring</button>
        <button type="button" id="stop-monitoring">Stop Monitoring</button>
    </form>
    <h2>Comments</h2>
    <div id="comments"></div>

    <script>
        $(document).ready(function() {
            $('#monitor-form').submit(function(event) {
                event.preventDefault();
                $.post('/start_monitoring', $(this).serialize(), function(response) {
                    alert(response.status);
                });
            });

            $('#stop-monitoring').click(function() {
                $.post('/stop_monitoring', function(response) {
                    alert(response.status);
                });
            });

            setInterval(function() {
                $.get('/get_comments', function(data) {
                    $('#comments').empty();
                    data.forEach(function(comment) {
                        $('#comments').append('<p>User: ' + comment[0] + '<br>Comment: ' + comment[1] + '<br>Time: ' + comment[2] + '</p><hr>');
                    });
                });
            }, 5000);
        });
    </script>
</body>
</html>
